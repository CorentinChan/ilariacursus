<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='styleResp.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='animation.css') }}">
<script src="{{ url_for('static', filename='script.js') }}" defer></script>
    <script src="search.js" defer></script>


<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

   <title>Recipe Home</title>
</head>
<body>

  <!--navigation bar -->
     {%include('/part/nav.html')%}


<div class="recipe-container fade-in">

  <!--recipe  search form-->
<section class="d-lg-flex recipeForm mx-lg-5 ">

   <div class="container-fluid mx-2 mt-3">
    <div class="   d-lg-flex mx-lg-0" role="search">
      <form method="post" action="/searchRecipes">
        <div class="input-group w-lg-50 slide-in-blurred-left">
          <span class="input-group-text btnSearch" id="basic-addon1">
            <button type="submit" style="border: none; background: none;"><i
                class="fa-solid fa-magnifying-glass "></i></button>
          </span>
          <input type="text" class="form-control w-lg-50" placeholder="Search" id="textSearch" name="textSearch"
            aria-label="Search" aria-describedby="basic-addon1">
        </div>
      </form>
    </div>
  </div>
<!--
 <form class="d-flex">
        <input class="form-control me-2" type="text" placeholder="Search">
        <button class="btn btn-primary" type="button">Search</button>
 </form>
 -->
<div class="searchList mt-2">
  <select class="form-select fs-5 rounded-pill form-select-lg mx-2 mx-lg-5"  id="recipeFilter">
    <option selected disabled>Sort by : </option>
    <option value="recipeDate">Sort by : date</option>
    <option value="recipeAlpha">Sort by : A to Z</option>
    <option value="recipeNote">Sort by : note </option>
  </select>
</div>  

</section>
<!--recipe results on caroussel( with bootstrap)  -->
    <section class="recipeList2 ">

               <div class="container-fluid py-3">
  <div id="cardCarousel" class="carousel slide" data-bs-ride="false">
    <div class="carousel-inner">

    {%  set count = 0  %}
    {% set  nbSlide=1 %}
     {% set  loopfirst=true %}
      {% for recipe in recipes %}

        {% if count == 0%}
    <div class="carousel-item {% if loopfirst %}active{% endif %}">
            <div class="row g-3 d-flex flex">
           {% set  loopfirst=false %}

       {%endif%}

        <div class="col-6 col-lg-4">
          
          <form method="post" action="/goRecipe" id="myForm">
            <button type="submit" class="p-0 border-0 bg-transparent w-100">
              <input hidden name="recipeID" value="{{recipe.id}}">
              <div class="card shadow-sm h-100">
                <img src="{{recipe.image}}  " class="card-img-top" alt="{{ recipe.title}} ">
                <div class="card-body pb-0">
                  <h5 class="card-title"> {{recipe.title}} </h5>
                  <div class="d-flex justify-content-between pt-3 pb-0 mb-0">
                    <span> {{recipe.note}} <i class=" pb-1 ms-1 fa-solid fa-star"></i></span>
                    <span class="card-text"> {{recipe.auteur}} </span>
                  </div>
                </div>
              </div>
            </button>
          </form>
                        </div>

        {% set count=count+1 %}
        {% if count >= 12 or loop.last %}
            </div>
          </div>
          {%endif%}
          {%if(count >= 12) %}
           {% set nbSlide= nbSlide+1 %}
           {% set count = 0 %}
       
      {%endif%}
      {%endfor%}
    

    </div>
     <!-- Indicators-->
  <div class="carousel-indicators  position-static mt-3 justify-content-center" href="#cardCarousel">
        <button class="btn btn-outline-primary bg-white " type="button" data-bs-target="#cardCarousel" data-bs-slide="prev">
      ⬅️ 
    </button>
    <div class="d-flex numeroButton " id="numeroButton">
    <button type="button" data-bs-target="#cardCarousel" data-bs-slide-to="0" class="active bg-white text-black-50" href="#cardCarousel">1</button>
  {% for i in range(1, nbSlide) %}
     
 <button type="button" class=" bg-white text-black-50" data-bs-target="#cardCarousel" data-bs-slide-to="{{i}}"  href="#cardCarousel" value="">{{(i+1)}}</button>   
    {% endfor %} 
          </div>
     <button class="btn btn-outline-primary bg-white" type="button" data-bs-target="#cardCarousel" data-bs-slide="next">
       ➡️
    </button>
  </div>

   

        </section>

  </div>
</div>




<footer>
<!--footer with logos and links -->

<!--logos with fontawesome-->
  <div class="logos me-5 pe-lg-5">
<i class="fa-brands fa-facebook fa-2x p-3" ></i>
<i class="fa-brands fa-instagram fa-2x p-3"></i>
<i class="fa-brands fa-twitter fa-2x p-3"></i>

  </div>

  <div class="container mt-3">           
  <div class="table-perso">

      <ul>
        <li><a href="">Presentations</a></li>
        <li><a href="">Profesionals</a></li>
        <li><a href="">Stores</a></li>
      </ul>
              <ul>
         <li><a href="">Webinars      </a></li>
          <li ><a href="">Workshops</a></li>
         <li><a href="">Local Meetups</a></li>
      </ul>
        <ul>
         <li><a href="">Ours initiative</a></li>
          <li><a href="">Giving Back</a></li>
         <li><a href="">Communities</a></li>
      </ul>
        <ul>
        <li><a href="">Contact Form</a></li>
        <li><a href="">Work with us</a></li>
        <li><a href="">Visit us</a></li>
      </ul>
             

</div>

  <p class="textTab">Made by C.C</p> 


</footer>

<!--Signin Div-->
<div class="overlay" id="overlay1">
  <div class="signWindow" id="signWindow">
    <button type="button" class="btn btnAc border text-center btn-danger btnClose " aria-label="Close" id="closeSignWindow" onclick="signinClose()">X</button>
    <iframe src="login.html" width="100%" height="100%" style="border:none;"></iframe>
  </div>
</div>

<!-- sign up div -->
<div class="overlay3" id="overlay2">

  <div class=" container signup  ">
      <button type="button" class="btn btnAc text-center btn-danger border p-1  btnClose2" aria-label="Close" id="closeSignupWindow" onclick="signupClose()">X</button>

  <div class="p-4  bg-danger border text-white rounded-5">

    <form class=" contactForm  ">
      <div class="  mx-auto text-center text-grey formAlign">
        <h2 class="text-center m-3  fw-bold pt-2">Sign up</h2>
        <a class="text-center m-3 " onclick="displaySignin();signupClose();">Have already an account? Click here to connect!</a>
   
        <h5 class="text-center m-3 ">Join us and add your own recipes and many more! </h5>
        <label for="mail" class="form-label text-center text-grey fs-4 me-3">Email</label>
        <input type="text" class="form-control rounded-pill text-black bg-white border border-grey text-center " id="name" placeholder="tom@company.com" >

        <label for="mail" class="form-label  text-center text-grey fs-4 me-3 mt-3">Pseudo</label>
        <input type="text" class="form-control text-center text-black  w-50 rounded-pill bg-white border border-grey text-center " id="name" placeholder="tom@company.com" >
        

        <label for="password" class="form-label fs-4 me-3 mt-3">Password</label>
        <input type="text" class="form-control text-center text-black  w-50 rounded-pill bg-white border border-grey text-center " id="password" placeholder="Min 8 characters" >
      
      </div>

      <div class=" text-center my-3">
      </div>

      <div class=" text-center">
       <button type="submit" class="btn btnAc mx-3 fs-5 px-3 mt-3 btn-warning  rounded-pill">Sign up!</button>
    </div>

    </form>
  </div>
</div>

</div>
</div>







</body>
</html>